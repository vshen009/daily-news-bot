# ğŸš€ æµ‹è¯•ç¯å¢ƒé…ç½®æŒ‡å—

## ç¯å¢ƒæ¶æ„

```
å¼€å‘æµç¨‹ï¼š
æœ¬åœ°å¼€å‘ â†’ fix/** åˆ†æ”¯ â†’ é¢„è§ˆç¯å¢ƒéªŒè¯ â†’ PR â†’ test åˆ†æ”¯ â†’ æµ‹è¯•ç¯å¢ƒ â†’ PR â†’ main åˆ†æ”¯ â†’ ç”Ÿäº§ç¯å¢ƒ
```

---

## ğŸ“Š ç¯å¢ƒè¯´æ˜

### ğŸ”´ ç”Ÿäº§ç¯å¢ƒ (Production)
- **åˆ†æ”¯**: `main`
- **åŸŸå**: `news.ai.0814.host`
- **éƒ¨ç½²è§¦å‘**:
  - æ¨é€åˆ° main åˆ†æ”¯
  - PR åˆå¹¶åˆ° main
  - å®šæ—¶ä»»åŠ¡ï¼ˆæ¯æ—¥è‡ªåŠ¨è¿è¡Œï¼‰
- **è®¿é—®åœ°å€**: https://news.ai.0814.host

### ğŸŸ¡ æµ‹è¯•ç¯å¢ƒ (Staging/Test)
- **åˆ†æ”¯**: `test`
- **åŸŸå**: `test-daily-news-bot.vercel.app`ï¼ˆVercel è‡ªåŠ¨ç”Ÿæˆï¼‰
- **éƒ¨ç½²è§¦å‘**:
  - æ¨é€åˆ° test åˆ†æ”¯
  - GitHub Actions æ‰‹åŠ¨è§¦å‘
- **ç”¨é€”**:
  - éªŒè¯åˆå¹¶å‰çš„åŠŸèƒ½
  - æµ‹è¯•å¤šä¸ªåŠŸèƒ½çš„é›†æˆ
  - QA éªŒè¯ç¯å¢ƒ

### ğŸŸ¢ é¢„è§ˆç¯å¢ƒ (Preview)
- **åˆ†æ”¯**: `fix/**`, `feature/**`, æˆ–å…¶ä»–åˆ†æ”¯
- **åŸŸå**: `[branch-name].vercel.app`ï¼ˆVercel è‡ªåŠ¨ç”Ÿæˆï¼‰
- **éƒ¨ç½²è§¦å‘**:
  - ä»»ä½•é main åˆ†æ”¯çš„æ¨é€
  - æ¯ä¸ª Pull Request è‡ªåŠ¨ç”Ÿæˆé¢„è§ˆ URL
- **ç”¨é€”**:
  - åŠŸèƒ½å¼€å‘æœŸé—´çš„é¢„è§ˆ
  - PR å®¡æŸ¥æ—¶æŸ¥çœ‹æ•ˆæœ
  - å¿«é€Ÿè¿­ä»£éªŒè¯

---

## ğŸ”„ å®Œæ•´å·¥ä½œæµ

### åœºæ™¯ 1ï¼šä¿®å¤ä¸€ä¸ªå° bug

```bash
# 1. ä» main åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout main
git pull origin main
git checkout -b fix/icon-display-issue

# 2. ä¿®æ”¹ä»£ç å¹¶æäº¤
# ... åšä¿®æ”¹ ...
git add .
git commit -m "ğŸ› ä¿®å¤å›¾æ ‡æ˜¾ç¤ºé—®é¢˜"

# 3. æ¨é€åˆ°è¿œç¨‹ï¼ˆè‡ªåŠ¨è§¦å‘é¢„è§ˆéƒ¨ç½²ï¼‰
git push origin fix/icon-display-issue

# 4. Vercel è‡ªåŠ¨ç”Ÿæˆé¢„è§ˆ URL
# https://fix-icon-display-issue.vercel.app

# 5. åœ¨é¢„è§ˆç¯å¢ƒéªŒè¯åŠŸèƒ½
# âœ… ç¡®è®¤ä¿®å¤æœ‰æ•ˆ

# 6. åˆ›å»º PR åˆ° main åˆ†æ”¯
gh pr create --title "ğŸ› ä¿®å¤å›¾æ ‡æ˜¾ç¤ºé—®é¢˜"

# 7. åˆå¹¶ PRï¼ˆè‡ªåŠ¨è§¦å‘ç”Ÿäº§éƒ¨ç½²ï¼‰
# https://news.ai.0814.host æ›´æ–°
```

---

### åœºæ™¯ 2ï¼šå¼€å‘æ–°åŠŸèƒ½

```bash
# 1. å¼€å‘é˜¶æ®µï¼ˆå¤šä¸ªæäº¤ï¼‰
git checkout -b feature/add-dark-mode
# ... å¼€å‘åŠŸèƒ½ ...
git push origin feature/add-dark-mode
# é¢„è§ˆ: https://feature-add-dark-mode.vercel.app

# 2. åŠŸèƒ½å®Œæˆåï¼Œåˆå¹¶åˆ° test åˆ†æ”¯éªŒè¯
git checkout test
git pull origin test
git merge feature/add-dark-mode
git push origin test
# æµ‹è¯•ç¯å¢ƒ: https://test-daily-news-bot.vercel.app

# 3. åœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯
# âœ… æ‰€æœ‰åŠŸèƒ½æ­£å¸¸
# âœ… ä¸å…¶ä»–åŠŸèƒ½é›†æˆæ­£å¸¸

# 4. ä» test åˆ›å»º PR åˆ° main
gh pr create --base main --head test --title "âœ¨ æ·»åŠ æ·±è‰²æ¨¡å¼åŠŸèƒ½"

# 5. ä»£ç å®¡æŸ¥é€šè¿‡ååˆå¹¶
# è‡ªåŠ¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
```

---

### åœºæ™¯ 3ï¼šå¿«é€Ÿä¿®å¤çƒ­ä¿®å¤

```bash
# ä¸¥é‡ bugï¼Œéœ€è¦å¿«é€Ÿä¿®å¤

# é€‰é¡¹ Aï¼šç›´æ¥ä¿®å¤ test åˆ†æ”¯
git checkout test
# ... ä¿®å¤ ...
git push origin test
# åœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯åï¼Œç›´æ¥åˆå¹¶åˆ° main

# é€‰é¡¹ Bï¼šä» main åˆ›å»º hotfix åˆ†æ”¯
git checkout main
git checkout -b hotfix/critical-bug
# ... ä¿®å¤ ...
git push origin hotfix/critical-bug
# å¿«é€Ÿå®¡æŸ¥ååˆå¹¶åˆ° main
```

---

## âš™ï¸ Vercel é…ç½®

### åœ¨ Vercel Dashboard ä¸­é…ç½®

#### 1. è¿›å…¥é¡¹ç›®è®¾ç½®
- è®¿é—® https://vercel.com/dashboard
- é€‰æ‹©é¡¹ç›®ï¼šdaily-news-bot

#### 2. é…ç½® Git
å¯¼èˆªåˆ°ï¼š**Settings â†’ Git**

```
Production Branch: main
â”œâ”€ Ignored Build Step: ï¼ˆç•™ç©ºï¼‰
â””â”€ Framework Preset: ï¼ˆè‡ªåŠ¨æ£€æµ‹ï¼‰

Preview Branches:
â”œâ”€ Production: ï¼ˆé»˜è®¤ä¸º mainï¼‰
â””â”€ Preview: æ‰€æœ‰åˆ†æ”¯ï¼ˆä½¿ç”¨é»˜è®¤è®¾ç½®ï¼‰
```

#### 3. é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰
å¯¼èˆªåˆ°ï¼š**Settings â†’ Environment Variables**

```
Production:
  ANTHROPIC_API_KEY: ***
  ANTHROPIC_BASE_URL: ***
  NODE_ENV: production

Preview / Development:
  ANTHROPIC_API_KEY: ***
  ANTHROPIC_BASE_URL: ***
  NODE_ENV: development
```

---

## ğŸ“‹ åˆ†æ”¯ç®¡ç†è§„èŒƒ

### åˆ†æ”¯å‘½åè§„èŒƒ

| ç±»å‹ | å‘½åæ ¼å¼ | ç¤ºä¾‹ | éƒ¨ç½²ç›®æ ‡ |
|------|----------|------|----------|
| ç”Ÿäº§ | `main` | `main` | Production |
| æµ‹è¯• | `test` | `test` | Preview (testç¯å¢ƒ) |
| åŠŸèƒ½å¼€å‘ | `feature/*` | `feature/dark-mode` | Preview |
| Bug ä¿®å¤ | `fix/*` | `fix/icon-bug` | Preview |
| çƒ­ä¿®å¤ | `hotfix/*` | `hotfix/critical-bug` | Preview |
| å®éªŒæ€§ | `experiment/*` | `experiment/new-layout` | Preview |

### åˆ†æ”¯ä¿æŠ¤è§„åˆ™

**main åˆ†æ”¯ä¿æŠ¤**ï¼ˆåœ¨ GitHub è®¾ç½®ä¸­ï¼‰ï¼š
- âœ… éœ€è¦ Pull Request æ‰èƒ½åˆå¹¶
- âœ… è‡³å°‘ 1 ä¸ªå®¡æŸ¥æ‰¹å‡†
- âœ… é€šè¿‡æ‰€æœ‰çŠ¶æ€æ£€æŸ¥ï¼ˆCI/CDï¼‰
- âŒ ç¦æ­¢ç›´æ¥æ¨é€

---

## ğŸ” å¦‚ä½•éªŒè¯ç¯å¢ƒ

### æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€

```bash
# æ–¹æ³• 1ï¼šVercel Dashboard
# è®¿é—® https://vercel.com/vshen009/daily-news-bot/deployments

# æ–¹æ³• 2ï¼šVercel CLI
npm install -g vercel
vercel list

# æ–¹æ³• 3ï¼šGitHub Actions
# æŸ¥çœ‹ Actions æ ‡ç­¾é¡µçš„è¿è¡Œè®°å½•
```

### é¢„è§ˆ URL æ ¼å¼

```
Production:  https://news.ai.0814.host
Test:         https://test-daily-news-bot.vercel.app
Feature:      https://fix-icon-display-issue.vercel.app
Hotfix:       https://hotfix-critical-bug.vercel.app
```

---

## ğŸ¯ æœ€ä½³å®è·µ

### âœ… æ¨èåšæ³•

1. **æ‰€æœ‰åŠŸèƒ½å¼€å‘åœ¨ fix/** æˆ– feature/** åˆ†æ”¯è¿›è¡Œ**
2. **åœ¨é¢„è§ˆç¯å¢ƒéªŒè¯åŠŸèƒ½åå†åˆå¹¶åˆ° test**
3. **test åˆ†æ”¯é€šè¿‡å®Œæ•´æµ‹è¯•åå†åˆå¹¶åˆ° main**
4. **æ¯ä¸ª PR åŒ…å«æ¸…æ™°çš„æè¿°å’Œæµ‹è¯•æ­¥éª¤**
5. **ä¿æŠ¤ main åˆ†æ”¯ï¼Œç¦æ­¢ç›´æ¥æ¨é€**

### âŒ é¿å…çš„åšæ³•

1. âŒ ç›´æ¥åœ¨ main åˆ†æ”¯å¼€å‘
2. âŒ è·³è¿‡æµ‹è¯•ç¯å¢ƒç›´æ¥åˆå¹¶åˆ°ç”Ÿäº§
3. âŒ åœ¨ç”Ÿäº§ç¯å¢ƒæµ‹è¯•åŠŸèƒ½
4. âŒ ä½¿ç”¨å¤šä¸ª test åˆ†æ”¯ï¼ˆåªä¿ç•™ä¸€ä¸ªï¼‰

---

## ğŸ“ ç¯å¢ƒåˆ‡æ¢å·¥ä½œæµç¤ºä¾‹

```bash
# ========================================
# åŠŸèƒ½å¼€å‘é˜¶æ®µ
# ========================================
git checkout main
git pull origin main
git checkout -b fix/add-comment-feature

# ... å¼€å‘ä»£ç  ...
git push origin fix/add-comment-feature
# é¢„è§ˆï¼šhttps://fix-add-comment-feature.vercel.app

# ========================================
# PR åˆ›å»ºä¸å®¡æŸ¥
# ========================================
gh pr create --title "âœ¨ æ·»åŠ è¯„è®ºåŠŸèƒ½"
# åœ¨é¢„è§ˆç¯å¢ƒéªŒè¯åŠŸèƒ½

# ========================================
# åˆå¹¶åˆ°æµ‹è¯•åˆ†æ”¯
# ========================================
git checkout test
git pull origin test
git pull origin fix/add-comment-feature
git push origin test
# æµ‹è¯•ï¼šhttps://test-daily-news-bot.vercel.app

# åœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯é›†æˆ

# ========================================
# åˆå¹¶åˆ°ç”Ÿäº§
# ========================================
gh pr create --base main --head test --title "âœ¨ æ·»åŠ è¯„è®ºåŠŸèƒ½"
# ä»£ç å®¡æŸ¥
# åˆå¹¶ PR
# ç”Ÿäº§ï¼šhttps://news.ai.0814.host
```

---

## ğŸ“ æ€»ç»“

### ä¸‰å±‚ç¯å¢ƒæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Preview (é¢„è§ˆ) â† fix/**, feature/**  â”‚
â”‚  https://[branch].vercel.app          â”‚
â”‚  å¼€å‘é˜¶æ®µã€PR å®¡æŸ¥                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“ (éªŒè¯é€šè¿‡)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Test (æµ‹è¯•) â† test åˆ†æ”¯               â”‚
â”‚  https://test-daily-news-bot.vercel.app â”‚
â”‚  é›†æˆæµ‹è¯•ã€QA éªŒè¯                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“ (æµ‹è¯•é€šè¿‡)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Production (ç”Ÿäº§) â† main åˆ†æ”¯          â”‚
â”‚  https://news.ai.0814.host             â”‚
â”‚  æ­£å¼ç¯å¢ƒã€ç”¨æˆ·è®¿é—®                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…³é”®ç‚¹

- âœ… **è‡ªåŠ¨åŒ–**ï¼šæ¨é€å³éƒ¨ç½²ï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œ
- âœ… **éš”ç¦»**ï¼šå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§å®Œå…¨åˆ†ç¦»
- âœ… **å›æ»š**ï¼šç”Ÿäº§å‡ºé—®é¢˜å¯ç«‹å³å›æ»š
- âœ… **å¹¶è¡Œ**ï¼šå¤šäººå¯åŒæ—¶åœ¨å„è‡ªåˆ†æ”¯å¼€å‘
- âœ… **å®‰å…¨**ï¼šmain åˆ†æ”¯ä¿æŠ¤ï¼Œé˜²æ­¢è¯¯æ“ä½œ

---

éœ€è¦æˆ‘å¸®ä½ é…ç½®å…¶ä»–ä»€ä¹ˆå—ï¼Ÿæ¯”å¦‚ï¼š
- è®¾ç½® GitHub Actions å·¥ä½œæµ
- é…ç½®è‡ªåŠ¨åŒ–æµ‹è¯•
- è®¾ç½®åŸŸåå’Œç¯å¢ƒå˜é‡
